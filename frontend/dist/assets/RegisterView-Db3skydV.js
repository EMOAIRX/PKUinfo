import{h as d,b as p,d as m,r as w,o as f,c as g,a as e,i as h,f as c,w as r,v as n,g as x}from"./index-CjEgMWgq.js";import{e as v}from"./aes-DsZpYOOY.js";/**
 * @license lucide-vue-next v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=d("MailIcon",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),b={class:"grow flex flex-col space-y-4 justify-center items-center h-full"},y=e("h1",{class:"text-2xl font-bold"},"注册",-1),k={class:"input input-bordered flex items-center gap-2"},M={class:"input input-bordered flex items-center gap-2"},V=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",class:"w-4 h-4 opacity-70"},[e("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z"})],-1),B={class:"input input-bordered flex items-center gap-2"},C=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",class:"w-4 h-4 opacity-70"},[e("path",{"fill-rule":"evenodd",d:"M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z","clip-rule":"evenodd"})],-1),U={class:"flex flex-row justify-center items-center space-x-4"},I={__name:"RegisterView",setup(Z){const l=p(),i=m(),t=w({username:"",password:"",email:""});function u(){x.put("/register",{username:t.username,password:v(t.password),email:t.email}).then(a=>{a.data.code===200?(l.success("注册成功",{timeout:2e3}),i.replace("/login?username="+t.username)):a.data.code===400?l.error("用户名已存在",{timeout:2e3}):l.error("数据库异常",{timeout:2e3})}).catch(a=>{console.log(a),l.error("注册失败",{timeout:2e3})})}return(a,s)=>(f(),g("div",b,[y,e("label",k,[h(c(_)),r(e("input",{type:"email",class:"grow",placeholder:"Email","onUpdate:modelValue":s[0]||(s[0]=o=>t.email=o)},null,512),[[n,t.email]])]),e("label",M,[V,r(e("input",{type:"text",class:"grow",placeholder:"Username","onUpdate:modelValue":s[1]||(s[1]=o=>t.username=o)},null,512),[[n,t.username]])]),e("label",B,[C,r(e("input",{type:"password",class:"grow","onUpdate:modelValue":s[2]||(s[2]=o=>t.password=o)},null,512),[[n,t.password]])]),e("div",U,[e("button",{class:"btn btn-accent text-accent-content px-8",onClick:u},"注册"),e("button",{class:"btn btn-ghost",onClick:s[3]||(s[3]=o=>c(i).push("/login"))},"返回登录")])]))}};export{I as default};
